<!-- [NEW 모달] 공통 알림/확인 창 -->
<div id="modal-alert" class="fixed inset-0 bg-black bg-opacity-40 z-[100] hidden flex items-center justify-center p-4 transition-opacity">
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-sm transform transition-all scale-100 p-6 flex flex-col items-center text-center">
    
    <!-- 아이콘 영역 -->
    <div id="alert-icon-area" class="mb-4 bg-gray-100 p-3 rounded-full">
      <span class="material-icons text-3xl text-gray-600" id="alert-icon">info</span>
    </div>

    <!-- 텍스트 영역 -->
    <h3 class="text-lg font-bold text-gray-800 mb-2" id="alert-title">알림</h3>
    <p class="text-sm text-gray-600 mb-6 leading-relaxed whitespace-pre-wrap" id="alert-message">내용</p>

    <!-- 버튼 영역 -->
    <div class="flex space-x-2 w-full">
      <button id="btn-alert-cancel" onclick="closeAlertModal()" class="flex-1 bg-gray-100 text-gray-600 font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors hidden">
        취소
      </button>
      <button id="btn-alert-confirm" class="flex-1 bg-gray-900 text-white font-bold py-3 rounded-xl hover:bg-black transition-colors shadow-lg">
        확인
      </button>
    </div>

  </div>
</div>

<script>
  let onConfirmCallback = null;

  /**
   * 커스텀 알림창 (alert 대체)
   * @param {string} msg 메시지 내용
   * @param {string} title 제목 (선택)
   * @param {string} icon 아이콘 이름 (선택)
   */
  function uiAlert(msg, title = "알림", icon = "info") {
    document.getElementById('alert-title').innerText = title;
    document.getElementById('alert-message').innerText = msg;
    document.getElementById('alert-icon').innerText = icon;
    
    // 스타일 설정 (Alert 모드)
    document.getElementById('alert-icon-area').className = "mb-4 bg-gray-100 p-3 rounded-full";
    document.getElementById('alert-icon').className = "material-icons text-3xl text-gray-600";
    document.getElementById('btn-alert-cancel').classList.add('hidden');
    document.getElementById('btn-alert-confirm').innerText = "확인";
    document.getElementById('btn-alert-confirm').onclick = closeAlertModal;

    document.getElementById('modal-alert').classList.remove('hidden');
  }

  /**
   * 커스텀 확인창 (confirm 대체)
   * @param {string} msg 메시지 내용
   * @param {function} callback 확인 버튼 클릭 시 실행할 함수
   * @param {string} title 제목 (선택)
   */
  function uiConfirm(msg, callback, title = "확인 필요") {
    onConfirmCallback = callback;

    document.getElementById('alert-title').innerText = title;
    document.getElementById('alert-message').innerText = msg;
    document.getElementById('alert-icon').innerText = "help"; // 물음표 아이콘

    // 스타일 설정 (Confirm 모드)
    document.getElementById('alert-icon-area').className = "mb-4 bg-orange-100 p-3 rounded-full";
    document.getElementById('alert-icon').className = "material-icons text-3xl text-orange-500";
    
    document.getElementById('btn-alert-cancel').classList.remove('hidden');
    document.getElementById('btn-alert-confirm').innerText = "네, 진행합니다";
    document.getElementById('btn-alert-confirm').onclick = function() {
        if (onConfirmCallback) onConfirmCallback();
        closeAlertModal();
    };

    document.getElementById('modal-alert').classList.remove('hidden');
  }

  function closeAlertModal() {
    document.getElementById('modal-alert').classList.add('hidden');
    onConfirmCallback = null;
  }
</script>
